<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/AverageSessions.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/AverageSessions.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use client';

import { LineChart, Line, XAxis, Tooltip, ResponsiveContainer, Rectangle } from 'recharts';
import useFetch from '@/services/useFetch';
import PropTypes from 'prop-types';

const CustomCursor = ({ points }) => {
	return (
		&lt;rect
			x={points[0].x}
			y={0}
			width='100%'
			height='100%'
			fill='rgba(0, 0, 0, 0.1)'
		/>
	);
};

/**
 * @component AverageSessions
 * @description Affiche le graphique de la durée moyenne des sessions pour chaque jour
 * @param {Object} props
 * @param {string} props.id L'identifiant de l'utilisateur
 * @returns {JSX.Element} Graphique linéaire
 */
export default function AverageSessions({ id }) {
	const { data, loading, error } = useFetch(id, 'average-sessions');

	if (loading) {
		return &lt;div>loading...&lt;/div>;
	}

	if (error) {
		return &lt;div>Une erreur est survenue&lt;/div>;
	}

	const dayMapping = {
		1: 'L',
		2: 'M',
		3: 'M',
		4: 'J',
		5: 'V',
		6: 'S',
		7: 'D',
	};

	const averageSessions = data.data ? data.data : data;

	const formattedSessions = averageSessions.sessions.map(session => ({
		...session,
		day: dayMapping[session.day],
	}));

	return (
		&lt;ResponsiveContainer
			width='100%'
			height='100%'>
			&lt;LineChart
				data={formattedSessions}
				margin={{
					top: 80,
					bottom: 40,
				}}>
				&lt;defs>
					&lt;linearGradient
						id='lineGradient'
						x1='0'
						y1='0'
						x2='1'
						y2='0'>
						&lt;stop
							offset='0%'
							stopColor='rgba(255, 255, 255, 0.5)'
						/>
						&lt;stop
							offset='100%'
							stopColor='#FFFFFF'
						/>
					&lt;/linearGradient>
				&lt;/defs>
				&lt;XAxis
					tickMargin={20}
					dataKey='day'
					axisLine={false}
					tickLine={false}
					tick={{ fill: '#FFFFFF' }}
					domain={['dataMin', 'dataMax']}
					interval='preserveStartEnd'
				/>
				&lt;Tooltip
					itemStyle={{ color: '#000' }}
					formatter={value => [`${value} min`]}
					labelFormatter={() => ''}
					cursor={&lt;CustomCursor />}
				/>
				&lt;Line
					type='monotone'
					dataKey='sessionLength'
					name='sessionLength'
					stroke='url(#lineGradient)'
					strokeWidth={2}
					dot={false}
					activeDot={{ r: 4, fill: '#FFFFFF' }}
				/>
				&lt;text
					x='8%'
					y='12%'
					textAnchor='left'
					dominantBaseline='middle'
					className='xl:text-[16px] lg:text-[14px] fill-[#FFFFFF]'>
					Durée moyenne des
				&lt;/text>
				&lt;text
					x='8%'
					y='19%'
					textAnchor='left'
					dominantBaseline='middle'
					className='xl:text-[16px] lg:text-[14px] fill-[#FFFFFF]'>
					sessions
				&lt;/text>
			&lt;/LineChart>
		&lt;/ResponsiveContainer>
	);
}

AverageSessions.propTypes = {
	id: PropTypes.string.isRequired,
};

CustomCursor.propTypes = {
	points: PropTypes.arrayOf(
		PropTypes.shape({
			x: PropTypes.number.isRequired,
		})
	).isRequired,
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#fetchData">fetchData</a></li><li><a href="global.html#useFetch">useFetch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
